<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magical Typing Adventure</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #38b2ac 0%, #4fd1c7 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
            background-size: 400% 400%;
            animation: rainbowFlow 8s ease-in-out infinite;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        @keyframes rainbowFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: linear-gradient(145deg, #ffffff 0%, #f0fdfa 50%, #ccfbf1 100%);
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 20px 50px rgba(56, 178, 172, 0.3), 0 0 0 3px #38b2ac;
            animation: fadeIn 1s ease-in, floatMagic 3s ease-in-out infinite;
            border: 4px solid transparent;
            background-clip: padding-box;
        }
        
        @keyframes floatMagic {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h1 {
            background: linear-gradient(45deg, #38b2ac, #4fd1c7, #f093fb, #f5576c);
            background-size: 400% 400%;
            animation: rainbowText 3s ease-in-out infinite;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 3em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(56, 178, 172, 0.3);
            font-weight: bold;
            text-align: center;
        }
        
        @keyframes rainbowText {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .emoji-header {
            font-size: 4em;
            margin: 20px 0;
            animation: unicornDance 3s ease-in-out infinite;
            text-align: center;
        }
        
        @keyframes unicornDance {
            0%, 100% { transform: translateY(0) rotate(0deg) scale(1); }
            25% { transform: translateY(-15px) rotate(-5deg) scale(1.1); }
            50% { transform: translateY(-25px) rotate(0deg) scale(1.2); }
            75% { transform: translateY(-15px) rotate(5deg) scale(1.1); }
        }
        
        .game-section {
            background: linear-gradient(145deg, #ffffff, #f0fdfa, #ccfbf1);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            border: 3px solid #38b2ac;
            box-shadow: 0 8px 25px rgba(56, 178, 172, 0.2);
            position: relative;
        }
        
        .typing-text {
            font-size: 1.8em;
            color: #2d3748;
            margin: 20px 0;
            padding: 20px;
            background: #f7fafc;
            border-radius: 15px;
            border: 2px solid #e2e8f0;
            line-height: 1.6;
            text-align: center;
        }
        
        .typing-input {
            width: 100%;
            padding: 20px;
            font-size: 1.5em;
            border: 3px solid #38b2ac;
            border-radius: 15px;
            font-family: inherit;
            background: #ffffff;
            color: #2d3748;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
            margin: 20px 0;
            transition: all 0.3s ease;
        }
        
        .typing-input:focus {
            outline: none;
            border-color: #4fd1c7;
            box-shadow: 0 0 20px rgba(77, 209, 199, 0.3);
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: linear-gradient(145deg, #ffffff, #f0fdfa);
            border: 2px solid #38b2ac;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            animation: shimmer 2s ease-in-out infinite;
        }
        
        @keyframes shimmer {
            0%, 100% { box-shadow: 0 4px 15px rgba(56, 178, 172, 0.3); }
            50% { box-shadow: 0 6px 20px rgba(77, 209, 199, 0.5); }
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #38b2ac;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #4a5568;
            font-size: 1em;
        }
        
        .controls {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .btn {
            background: linear-gradient(45deg, #38b2ac, #4fd1c7, #2dd4bf);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            border-radius: 25px;
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(56, 178, 172, 0.4);
            position: relative;
            overflow: hidden;
        }
        
        .btn:hover {
            background: linear-gradient(45deg, #2dd4bf, #14b8a6, #0f766e);
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(56, 178, 172, 0.6);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .home-btn {
            background: linear-gradient(45deg, #f093fb, #f5576c, #4facfe);
            position: absolute;
            top: 20px;
            left: 20px;
        }
        
        .home-btn:hover {
            background: linear-gradient(45deg, #ec4899, #ef4444, #3b82f6);
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #38b2ac, #4fd1c7, #2dd4bf);
            border-radius: 10px;
            transition: width 0.3s ease;
            width: 0%;
        }
        
        .feedback {
            font-size: 1.5em;
            text-align: center;
            margin: 20px 0;
            font-weight: bold;
            min-height: 40px;
        }
        
        .feedback.correct {
            color: #059669;
        }
        
        .feedback.error {
            color: #dc2626;
        }
        
        .feedback.info {
            color: #0891b2;
        }
        
        .completed {
            background: linear-gradient(135deg, #f0fdfa, #ccfbf1, #a7f3d0);
            border: 3px solid #38b2ac;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
            animation: gentleGlow 3s ease-in-out infinite;
        }
        
        @keyframes gentleGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(56, 178, 172, 0.3); }
            50% { box-shadow: 0 0 30px rgba(77, 209, 199, 0.5); }
        }
        
        .word-highlight {
            background: #fed7d7;
            border-radius: 5px;
            padding: 2px 4px;
        }
        
        .word-correct {
            background: #c6f6d5;
            border-radius: 5px;
            padding: 2px 4px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2.5em;
            }
            
            .typing-text {
                font-size: 1.4em;
            }
            
            .typing-input {
                font-size: 1.2em;
                padding: 15px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <button class="btn home-btn" onclick="goHome()">üè† Home</button>
    
    <div class="container">
        <div class="emoji-header">‚å®Ô∏èü¶Ñüíñ‚ú®</div>
        <h1>Magical Typing Adventure</h1>
        
        <div class="game-section">
            <div class="feedback" id="feedback">üåà Get ready to type some magical words! üåà</div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <div class="typing-text" id="textToType">Welcome to your typing adventure! Click "Start Typing" to begin! ü¶Ñüíñ</div>
            
            <input type="text" class="typing-input" id="typingInput" placeholder="Type the magical words here..." disabled>
            
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="wpm">0</div>
                    <div class="stat-label">Words per Minute</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="accuracy">100%</div>
                    <div class="stat-label">Accuracy</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="wordsTyped">0</div>
                    <div class="stat-label">Words Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="timeElapsed">0</div>
                    <div class="stat-label">Time (seconds)</div>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn" id="startBtn" onclick="startTyping()">üåü Start Typing! üåü</button>
                <button class="btn" id="resetBtn" onclick="resetGame()" disabled>üîÑ Try Again! üîÑ</button>
                <button class="btn" onclick="newSentence()">‚ú® New Words! ‚ú®</button>
            </div>
        </div>
        
        <div id="completedSection" class="completed" style="display: none;">
            <h2>üéâ Amazing Job! üéâ</h2>
            <p>You're becoming a typing superstar! üåü</p>
            <div id="finalStats"></div>
        </div>
    </div>

    <script>
        const sentences = [
            "The unicorn danced in the rainbow garden with magical flowers.",
            "Sparkly stars shine bright in the beautiful night sky above.",
            "Happy cats play with colorful butterflies in the sunny meadow.",
            "The friendly dragon loves to eat sweet pink cotton candy.",
            "Magic wands create wonderful spells with glittery golden dust.",
            "Brave knights ride on majestic horses through enchanted forests.",
            "Pretty mermaids swim in the crystal clear blue ocean waves.",
            "Cute puppies love to play fetch with red rubber balls.",
            "The wise owl reads books under the bright full moon.",
            "Little fairies fly around the beautiful flower garden singing."
        ];
        
        let currentText = "";
        let startTime = null;
        let timer = null;
        let currentWordIndex = 0;
        let totalWords = 0;
        let correctWords = 0;
        let totalCharacters = 0;
        let correctCharacters = 0;
        
        const textElement = document.getElementById('textToType');
        const inputElement = document.getElementById('typingInput');
        const feedbackElement = document.getElementById('feedback');
        const progressElement = document.getElementById('progressFill');
        const startBtn = document.getElementById('startBtn');
        const resetBtn = document.getElementById('resetBtn');
        
        function goHome() {
            window.location.href = 'index.html';
        }
        
        function getRandomSentence() {
            return sentences[Math.floor(Math.random() * sentences.length)];
        }
        
        function newSentence() {
            currentText = getRandomSentence();
            displayText();
            resetStats();
            inputElement.value = '';
            inputElement.disabled = true;
            startBtn.disabled = false;
            resetBtn.disabled = true;
            feedbackElement.textContent = "üåà New magical words ready! Click Start Typing! üåà";
            feedbackElement.className = "feedback info";
        }
        
        function displayText() {
            textElement.innerHTML = currentText;
        }
        
        function startTyping() {
            if (!currentText) {
                currentText = getRandomSentence();
                displayText();
            }
            
            startTime = Date.now();
            inputElement.disabled = false;
            inputElement.focus();
            startBtn.disabled = true;
            resetBtn.disabled = false;
            
            timer = setInterval(updateStats, 100);
            
            feedbackElement.textContent = "ü¶Ñ Start typing! You're doing great! ü¶Ñ";
            feedbackElement.className = "feedback info";
            
            inputElement.addEventListener('input', checkTyping);
        }
        
        function checkTyping() {
            const typedText = inputElement.value;
            const words = currentText.split(' ');
            const typedWords = typedText.split(' ');
            
            // Update progress
            const progress = (typedText.length / currentText.length) * 100;
            progressElement.style.width = progress + '%';
            
            // Check if completed
            if (typedText === currentText) {
                completeTyping();
                return;
            }
            
            // Highlight current progress
            let highlightedText = '';
            for (let i = 0; i < words.length; i++) {
                if (i < typedWords.length) {
                    if (typedWords[i] === words[i]) {
                        highlightedText += `<span class="word-correct">${words[i]}</span> `;
                        if (i === currentWordIndex) {
                            currentWordIndex++;
                            correctWords++;
                        }
                    } else if (i === typedWords.length - 1) {
                        highlightedText += `<span class="word-highlight">${words[i]}</span> `;
                    } else {
                        highlightedText += `${words[i]} `;
                    }
                } else {
                    highlightedText += `${words[i]} `;
                }
            }
            textElement.innerHTML = highlightedText.trim();
            
            // Update feedback
            const accuracy = calculateAccuracy(typedText, currentText);
            if (accuracy > 95) {
                feedbackElement.textContent = "üåü Perfect! Keep going! üåü";
                feedbackElement.className = "feedback correct";
            } else if (accuracy > 80) {
                feedbackElement.textContent = "üíñ Great job! You're doing well! üíñ";
                feedbackElement.className = "feedback correct";
            } else {
                feedbackElement.textContent = "ü¶Ñ Take your time! You've got this! ü¶Ñ";
                feedbackElement.className = "feedback info";
            }
        }
        
        function calculateAccuracy(typed, original) {
            let correct = 0;
            for (let i = 0; i < Math.min(typed.length, original.length); i++) {
                if (typed[i] === original[i]) {
                    correct++;
                }
            }
            return original.length > 0 ? (correct / original.length) * 100 : 100;
        }
        
        function completeTyping() {
            clearInterval(timer);
            inputElement.disabled = true;
            inputElement.removeEventListener('input', checkTyping);
            
            feedbackElement.textContent = "üéâ Fantastic! You completed it! üéâ";
            feedbackElement.className = "feedback correct";
            
            progressElement.style.width = '100%';
            
            // Show completion section
            const completedSection = document.getElementById('completedSection');
            const finalStats = document.getElementById('finalStats');
            
            const timeElapsed = (Date.now() - startTime) / 1000;
            const wordsCount = currentText.split(' ').length;
            const wpm = Math.round((wordsCount / timeElapsed) * 60);
            const accuracy = calculateAccuracy(inputElement.value, currentText);
            
            finalStats.innerHTML = `
                <p><strong>‚è±Ô∏è Time:</strong> ${Math.round(timeElapsed)} seconds</p>
                <p><strong>üöÄ Speed:</strong> ${wpm} words per minute</p>
                <p><strong>üéØ Accuracy:</strong> ${Math.round(accuracy)}%</p>
                <p><strong>üìù Words:</strong> ${wordsCount} words completed</p>
            `;
            
            completedSection.style.display = 'block';
            completedSection.scrollIntoView({ behavior: 'smooth' });
            
            startBtn.disabled = false;
            resetBtn.disabled = false;
        }
        
        function updateStats() {
            if (!startTime) return;
            
            const timeElapsed = (Date.now() - startTime) / 1000;
            const typedText = inputElement.value;
            const wordsTyped = typedText.split(' ').filter(word => word.length > 0).length;
            const wpm = wordsTyped > 0 ? Math.round((wordsTyped / timeElapsed) * 60) : 0;
            const accuracy = calculateAccuracy(typedText, currentText);
            
            document.getElementById('wpm').textContent = wpm;
            document.getElementById('accuracy').textContent = Math.round(accuracy) + '%';
            document.getElementById('wordsTyped').textContent = wordsTyped;
            document.getElementById('timeElapsed').textContent = Math.round(timeElapsed);
        }
        
        function resetStats() {
            currentWordIndex = 0;
            totalWords = 0;
            correctWords = 0;
            totalCharacters = 0;
            correctCharacters = 0;
            progressElement.style.width = '0%';
            
            document.getElementById('wpm').textContent = '0';
            document.getElementById('accuracy').textContent = '100%';
            document.getElementById('wordsTyped').textContent = '0';
            document.getElementById('timeElapsed').textContent = '0';
            
            document.getElementById('completedSection').style.display = 'none';
        }
        
        function resetGame() {
            clearInterval(timer);
            inputElement.removeEventListener('input', checkTyping);
            inputElement.value = '';
            inputElement.disabled = true;
            startTime = null;
            
            displayText();
            resetStats();
            
            startBtn.disabled = false;
            resetBtn.disabled = true;
            
            feedbackElement.textContent = "üåà Ready for another try! Click Start Typing! üåà";
            feedbackElement.className = "feedback info";
        }
        
        // Initialize with a random sentence
        newSentence();
        
        // Add sparkle effects
        function createSparkle() {
            const sparkle = document.createElement('div');
            sparkle.innerHTML = '‚ú®';
            sparkle.style.position = 'fixed';
            sparkle.style.left = Math.random() * window.innerWidth + 'px';
            sparkle.style.top = Math.random() * window.innerHeight + 'px';
            sparkle.style.fontSize = Math.random() * 20 + 10 + 'px';
            sparkle.style.pointerEvents = 'none';
            sparkle.style.animation = 'sparkleFloat 3s ease-out forwards';
            sparkle.style.zIndex = '-1';
            document.body.appendChild(sparkle);
            
            setTimeout(() => sparkle.remove(), 3000);
        }
        
        // Add sparkle animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes sparkleFloat {
                0% { opacity: 1; transform: translateY(0) rotate(0deg); }
                100% { opacity: 0; transform: translateY(-100px) rotate(360deg); }
            }
        `;
        document.head.appendChild(style);
        
        // Create sparkles periodically
        setInterval(createSparkle, 1200);
        
        // Add click effects
        document.querySelectorAll('.btn').forEach(button => {
            button.addEventListener('click', () => {
                button.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    button.style.transform = '';
                }, 150);
            });
        });
    </script>
</body>
</html>